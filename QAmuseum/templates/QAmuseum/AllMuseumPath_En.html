{% load static %}
{% load django_bootstrap5 %}
{% load widget_tweaks %}
<!DOCTYPE html>
<html>
    <head>
        <link rel="stylesheet" href="{% static 'QAmuseum/style.css' %}">
        {% bootstrap_css %}
        {% bootstrap_javascript %}
        <link rel="stylesheet" type="text/css" href="{% static 'QAmuseum/style.css' %}">
        <link rel="stylesheet" href="{% static 'path/to/lightbox2/css/lightbox.min.css' %}">
        <title>SATOSHI OMURA MUSEUM</title>
    </head>
    <body>
        <header>
            <nav class="navbar navbar-expand-md navbar-dark fixed-top bg-indigo p-1">
                <div class="container-fluid">
                    <a class="navbar-brand" href="#">SATOSHI OMURA MUSEUM</a>
                </div>
            </nav>
        </header>
        <br><br>
        
        <div class="container-fluid">
        
        <div class="text-center">
            <p class="end-text">Estimated tour time: <br>
            {{goaltime}} min.<br></p>
        
        <a href="{% url 'Parameter_En' pk  %}">Back to the setting</a><br>
        
        <div class="image-container">
        <img src="/media/map_all.png">
        <img src="data:image/png;base64,{{graph|safe}}" ></div>
        </div>
        <div class="text-center">
            <a href="#" onclick="openModal()">Expansion</a></div>
        <br>
        
        <div class="text-center">
        <a href="{% url 'CalcPathWaitEn' pk %}">Recalculate</a><br>
        <a href="{% url 'MuseumPathEn' pk  %}"class="btn btn-success btn-block" role="button" >Start guide</a>
        </div>
        </div>
        <div id="myModal" class="modal">
            <span class="close" onclick="closeModal()">&times;</span>
            <img src="/media/map_all.png" class="modal-content" alt="Large Image">
            <img src="data:image/png;base64,{{graph|safe}}" class="modal-content-second" >
        </div>

        <script src="{% static 'path/to/lightbox2/js/lightbox.min.js' %}"></script>
    <script>
        function openModal() {
        document.getElementById('myModal').style.display = 'block';
        }

        // モーダルを閉じる関数
        function closeModal() {
            document.getElementById('myModal').style.display = 'none';
        }

        // モーダル外をクリックしたら閉じる
        window.onclick = function(event) {
            var modal = document.getElementById('myModal');
            if (event.target === modal) {
                closeModal();
            }
        };
    </script>
    </body>
</html>